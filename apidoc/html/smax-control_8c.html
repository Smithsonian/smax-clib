<!-- HTML header for doxygen 1.9.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta charset="utf-8"/>
<meta name="description" content="C/C++ client library for SMA-X structured data exchange"/>
<meta name="keywords" content="SMA-X client library, structured data, data exchange, C, C++, C99, software library, open source, Redis client"/>
<meta name="author" content="Attila Kovacs"/>
<meta name="copyright" content="(C)2024 Attila Kovacs" />
<meta name="robots" content="index,follow"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EMRD1TX0PD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-EMRD1TX0PD');
</script>
<link rel="shortcut icon" type="image/x-icon" href="/redisx/resources/favicon.ico" />
<link rel="icon" type="image/png" sizes="192x192" href="/redisx/resources/android-chrome-192x192.png" />
<link rel="icon" type="image/png" sizes="512x512" href="/redisx/resources/android-chrome-512x512.png" />
<link rel="apple-touch-icon" type="image/png" href="/redisx/resources/apple-touch-icon.png" />
<title>smax-clib: src/smax-control.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="smithsonian-logo-55x55.png"/></td>
  <td id="projectalign">
   <div id="projectname">smax-clib<span id="projectnumber">&#160;v1.0</span>
   </div>
   <div id="projectbrief">A C/C++ client library for SMA-X</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('smax-control_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">smax-control.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a68d38e9d6ff5d3015f1732cb2d47718f" id="r_a68d38e9d6ff5d3015f1732cb2d47718f"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smax-control_8c.html#a68d38e9d6ff5d3015f1732cb2d47718f">smaxControl</a> (const char *table, const char *key, const void *value, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a1c7e02eda23566a7891310fd09307a70">XType</a> type, int count, const char *replyTable, const char *replyKey, int timeout)</td></tr>
<tr class="separator:a68d38e9d6ff5d3015f1732cb2d47718f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f7823d82d7f0df97535ea2034ab27c4" id="r_a1f7823d82d7f0df97535ea2034ab27c4"><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a621c38f1f10a1c565d897e3178b16d6e">boolean</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smax-control_8c.html#a1f7823d82d7f0df97535ea2034ab27c4">smaxControlBoolean</a> (const char *table, const char *key, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a621c38f1f10a1c565d897e3178b16d6e">boolean</a> value, const char *replyTable, const char *replyKey, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a621c38f1f10a1c565d897e3178b16d6e">boolean</a> defaultReply, int timeout)</td></tr>
<tr class="separator:a1f7823d82d7f0df97535ea2034ab27c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a382280f18f6f7b534395bed3e8d6f019" id="r_a382280f18f6f7b534395bed3e8d6f019"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smax-control_8c.html#a382280f18f6f7b534395bed3e8d6f019">smaxControlDouble</a> (const char *table, const char *key, double value, const char *replyTable, const char *replyKey, int timeout)</td></tr>
<tr class="separator:a382280f18f6f7b534395bed3e8d6f019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b731a3a579c1f0ae61c5685bf660115" id="r_a1b731a3a579c1f0ae61c5685bf660115"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smax-control_8c.html#a1b731a3a579c1f0ae61c5685bf660115">smaxControlInt</a> (const char *table, const char *key, int value, const char *replyTable, const char *replyKey, int defaultReply, int timeout)</td></tr>
<tr class="separator:a1b731a3a579c1f0ae61c5685bf660115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a293c6ef0474094cce16508489684e89c" id="r_a293c6ef0474094cce16508489684e89c"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smax-control_8c.html#a293c6ef0474094cce16508489684e89c">smaxControlString</a> (const char *table, const char *key, const char *value, const char *replyTable, const char *replyKey, int timeout)</td></tr>
<tr class="separator:a293c6ef0474094cce16508489684e89c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea1bd1d05827dc1b6b44734d35897f72" id="r_aea1bd1d05827dc1b6b44734d35897f72"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="smax-control_8c.html#aea1bd1d05827dc1b6b44734d35897f72">smaxSetControlFunction</a> (const char *table, const char *key, <a class="el" href="smax_8h.html#a8224a78e5c3f1347e1321a83909b5c34">SMAXControlFunction</a> func, void *parg)</td></tr>
<tr class="separator:aea1bd1d05827dc1b6b44734d35897f72"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section date"><dt>Date</dt><dd>Created on Jun 11, 2025 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<p>Send and process control 'commands' via SMA-X by setting or monitored designated control variables Clients will set these and wait for a response in another variable, while servers will monitor the control variables and execute designated control functions when these variables are updated. The controlled application is expected to act on the request passed in the control variable, and post the result (such as the actual value) after the request was processed in the designated 'reply' variable.</p>
<p>For example, we set <code>system:subsystem:control_voltage</code> to 0.123456 to request that the given subsystem outputs the desired voltage. The program that controls the subsystem, monitors the <code>control_voltage</code> for requests ('commands'), and then sets the output voltage to the nearest possible value, then posts the actual value that was applied in <code>system:subsystem:voltage</code>. Suppose, it's DAC has a resolution of 0.01 V. In that case, it might 'reply' with <code>voltage</code> set to 0.12.</p>
<p>It is important that for every request received, the control program should post exactly one reply in the designated response variable.</p>
<p>The control calls of this module will simply wait for an update of the reply variable, and return the value set by the control program after the request is sent.</p>
<dl class="section since"><dt>Since</dt><dd>1.0 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a68d38e9d6ff5d3015f1732cb2d47718f" name="a68d38e9d6ff5d3015f1732cb2d47718f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68d38e9d6ff5d3015f1732cb2d47718f">&#9670;&#160;</a></span>smaxControl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * smaxControl </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a1c7e02eda23566a7891310fd09307a70">XType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>replyTable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>replyKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets an SMA-X control variable, and returns the response to the monitored reply value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>SMA-X table name </td></tr>
    <tr><td class="paramname">key</td><td>The command keyword </td></tr>
    <tr><td class="paramname">value</td><td>Pointer to the value to set </td></tr>
    <tr><td class="paramname">type</td><td>The type of the value </td></tr>
    <tr><td class="paramname">count</td><td>Number of elements in value </td></tr>
    <tr><td class="paramname">replyTable</td><td>SMA-X table in which the reply is expected. It may also be NULL if it's the same as the table in which the control variable was set. </td></tr>
    <tr><td class="paramname">replyKey</td><td>The keyword to monitor for responses. </td></tr>
    <tr><td class="paramname">timeout</td><td>[s] Maximum time to wait for a response before returning NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The raw value of the replyKey after it has changed, or NULL if there was an error (errno will indicate the type of error).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="smax-control_8c.html#a1f7823d82d7f0df97535ea2034ab27c4">smaxControlBoolean()</a> </dd>
<dd>
<a class="el" href="smax-control_8c.html#a1b731a3a579c1f0ae61c5685bf660115">smaxControlInt()</a> </dd>
<dd>
<a class="el" href="smax-control_8c.html#a382280f18f6f7b534395bed3e8d6f019">smaxControlDouble()</a> </dd>
<dd>
<a class="el" href="smax-control_8c.html#a293c6ef0474094cce16508489684e89c">smaxControlString()</a> </dd></dl>

<p class="reference">References <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <a class="el" href="smax-util_8c.html#aefcb16af3690ffe9c77224af6b394869">smaxError()</a>, <a class="el" href="smax-util_8c.html#a51856e0dc0261f8e44c8635d31d6193c">smaxErrorDescription()</a>, <a class="el" href="smax_8c.html#aee07f085e12283ad96f42c4d77430880">smaxShare()</a>, <a class="el" href="smax-sub_8c.html#a53614ba57a594135c13b64a2d89eaa43">smaxSubscribe()</a>, <a class="el" href="smax-sub_8c.html#af3a5d7bc565ab7de0ac1dd8fafc93f14">smaxUnsubscribe()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8c.html#ae73aaf705dc4e7d58dfb0fd81f4805c7">x_error()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a5426366367d169401f779c4764ba7736">X_NAME_INVALID</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a7b2679c964ea5f2160380ed55654b873">X_SUCCESS</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8c.html#ac39ae03ca89b115d49a12f633522dc31">x_trace_null()</a>, and <a class="elRef" href="../../xchange/apidoc/html/xchange_8c.html#af771fbf7ea96f8051db140b1750d3a20">x_warn()</a>.</p>

</div>
</div>
<a id="a1f7823d82d7f0df97535ea2034ab27c4" name="a1f7823d82d7f0df97535ea2034ab27c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f7823d82d7f0df97535ea2034ab27c4">&#9670;&#160;</a></span>smaxControlBoolean()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a621c38f1f10a1c565d897e3178b16d6e">boolean</a> smaxControlBoolean </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a621c38f1f10a1c565d897e3178b16d6e">boolean</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>replyTable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>replyKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a621c38f1f10a1c565d897e3178b16d6e">boolean</a>&#160;</td>
          <td class="paramname"><em>defaultReply</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets a boolean type SMA-X control variable, and returns the boolean response to the monitored reply, or the specified default value in case of an error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>SMA-X table name </td></tr>
    <tr><td class="paramname">key</td><td>The command keyword </td></tr>
    <tr><td class="paramname">value</td><td>Pointer to the value to set </td></tr>
    <tr><td class="paramname">replyTable</td><td>SMA-X table in which the reply is expected. It may also be NULL if it's the same as the table in which the control variable was set. </td></tr>
    <tr><td class="paramname">replyKey</td><td>The keyword to monitor for responses. </td></tr>
    <tr><td class="paramname">defaultReply</td><td>The value to return in case of an error </td></tr>
    <tr><td class="paramname">timeout</td><td>[s] Maximum time to wait for a response before returning NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The boolean value of the monitored keyword after it updated, or the specified default value if there was an error (errno will indicate the type of error).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="smax-control_8c.html#a1b731a3a579c1f0ae61c5685bf660115">smaxControlInt()</a> </dd>
<dd>
<a class="el" href="smax-control_8c.html#a382280f18f6f7b534395bed3e8d6f019">smaxControlDouble()</a> </dd>
<dd>
<a class="el" href="smax-control_8c.html#a293c6ef0474094cce16508489684e89c">smaxControlString()</a> </dd></dl>

<p class="reference">References <a class="el" href="smax-control_8c.html#a68d38e9d6ff5d3015f1732cb2d47718f">smaxControl()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#abe0465f7669775b6129551a7ef3300bc">X_BOOLEAN</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8c.html#a9b61b8b8b3ef0f7cc0b96ab499265c74">x_trace()</a>, and <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a994ae91adbbffc3b55b47b0219338282">xParseBoolean()</a>.</p>

</div>
</div>
<a id="a382280f18f6f7b534395bed3e8d6f019" name="a382280f18f6f7b534395bed3e8d6f019"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a382280f18f6f7b534395bed3e8d6f019">&#9670;&#160;</a></span>smaxControlDouble()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double smaxControlDouble </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>replyTable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>replyKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets a atring type SMA-X control variable, and returns the string response to the monitored reply, or NULL in case of an error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>SMA-X table name </td></tr>
    <tr><td class="paramname">key</td><td>The command keyword </td></tr>
    <tr><td class="paramname">value</td><td>Pointer to the value to set </td></tr>
    <tr><td class="paramname">replyTable</td><td>SMA-X table in which the reply is expected. It may also be NULL if it's the same as the table in which the control variable was set. </td></tr>
    <tr><td class="paramname">replyKey</td><td>The keyword to monitor for responses. </td></tr>
    <tr><td class="paramname">timeout</td><td>[s] Maximum time to wait for a response before returning NAN. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The double-precision value of the monitored keyword after it updated, or NAN if there was an error (errno will indicate the type of error).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="smax-control_8c.html#a1f7823d82d7f0df97535ea2034ab27c4">smaxControlBoolean()</a> </dd>
<dd>
<a class="el" href="smax-control_8c.html#a1b731a3a579c1f0ae61c5685bf660115">smaxControlInt()</a> </dd>
<dd>
<a class="el" href="smax-control_8c.html#a382280f18f6f7b534395bed3e8d6f019">smaxControlDouble()</a> </dd></dl>

<p class="reference">References <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a8abfcc76130f3f991d124dd22d7e69bc">NAN</a>, <a class="el" href="smax-control_8c.html#a68d38e9d6ff5d3015f1732cb2d47718f">smaxControl()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a849c7ccb02f63d8554323a889a3d8b4d">X_DOUBLE</a>, and <a class="elRef" href="../../xchange/apidoc/html/xchange_8c.html#ac39ae03ca89b115d49a12f633522dc31">x_trace_null()</a>.</p>

</div>
</div>
<a id="a1b731a3a579c1f0ae61c5685bf660115" name="a1b731a3a579c1f0ae61c5685bf660115"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b731a3a579c1f0ae61c5685bf660115">&#9670;&#160;</a></span>smaxControlInt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int smaxControlInt </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>replyTable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>replyKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>defaultReply</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets an integer-type SMA-X control variable, and returns the integer response to the monitored reply, or the specified default value in case of an error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>SMA-X table name </td></tr>
    <tr><td class="paramname">key</td><td>The command keyword </td></tr>
    <tr><td class="paramname">value</td><td>Pointer to the value to set </td></tr>
    <tr><td class="paramname">replyTable</td><td>SMA-X table in which the reply is expected. It may also be NULL if it's the same as the table in which the control variable was set. </td></tr>
    <tr><td class="paramname">replyKey</td><td>The keyword to monitor for responses. </td></tr>
    <tr><td class="paramname">defaultReply</td><td>The value to return in case of an error </td></tr>
    <tr><td class="paramname">timeout</td><td>[s] Maximum time to wait for a response before returning NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The integer value of the monitored keyword after it updated, or the specified default value if there was an error (errno will indicate the type of error).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="smax-control_8c.html#a1f7823d82d7f0df97535ea2034ab27c4">smaxControlBoolean()</a> </dd>
<dd>
<a class="el" href="smax-control_8c.html#a1b731a3a579c1f0ae61c5685bf660115">smaxControlInt()</a> </dd>
<dd>
<a class="el" href="smax-control_8c.html#a293c6ef0474094cce16508489684e89c">smaxControlString()</a> </dd></dl>

<p class="reference">References <a class="el" href="smax-control_8c.html#a68d38e9d6ff5d3015f1732cb2d47718f">smaxControl()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a4003d7fe06200f77805c52cc7db56784">X_INT</a>, and <a class="elRef" href="../../xchange/apidoc/html/xchange_8c.html#a9b61b8b8b3ef0f7cc0b96ab499265c74">x_trace()</a>.</p>

</div>
</div>
<a id="a293c6ef0474094cce16508489684e89c" name="a293c6ef0474094cce16508489684e89c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a293c6ef0474094cce16508489684e89c">&#9670;&#160;</a></span>smaxControlString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * smaxControlString </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>replyTable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>replyKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets a atring type SMA-X control variable, and returns the string response to the monitored reply, or NULL in case of an error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>SMA-X table name </td></tr>
    <tr><td class="paramname">key</td><td>The command keyword </td></tr>
    <tr><td class="paramname">value</td><td>Pointer to the value to set </td></tr>
    <tr><td class="paramname">replyTable</td><td>SMA-X table in which the reply is expected. It may also be NULL if it's the same as the table in which the control variable was set. </td></tr>
    <tr><td class="paramname">replyKey</td><td>The keyword to monitor for responses. </td></tr>
    <tr><td class="paramname">timeout</td><td>[s] Maximum time to wait for a response before returning NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The raw string value of the monitored keyword after it updated, or NULL if there was an error (errno will indicate the type of error).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="smax-control_8c.html#a1f7823d82d7f0df97535ea2034ab27c4">smaxControlBoolean()</a> </dd>
<dd>
<a class="el" href="smax-control_8c.html#a1b731a3a579c1f0ae61c5685bf660115">smaxControlInt()</a> </dd>
<dd>
<a class="el" href="smax-control_8c.html#a382280f18f6f7b534395bed3e8d6f019">smaxControlDouble()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>

<p class="reference">References <a class="el" href="smax-control_8c.html#a68d38e9d6ff5d3015f1732cb2d47718f">smaxControl()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a2443dd783d2728a3559361fba845e533">X_STRING</a>, and <a class="elRef" href="../../xchange/apidoc/html/xchange_8c.html#ac39ae03ca89b115d49a12f633522dc31">x_trace_null()</a>.</p>

</div>
</div>
<a id="aea1bd1d05827dc1b6b44734d35897f72" name="aea1bd1d05827dc1b6b44734d35897f72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea1bd1d05827dc1b6b44734d35897f72">&#9670;&#160;</a></span>smaxSetControlFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int smaxSetControlFunction </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="smax_8h.html#a8224a78e5c3f1347e1321a83909b5c34">SMAXControlFunction</a>&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>parg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configures an SMA-X control function. The designated function will be called every time the monitored control variable is updated in the database, so it may act on the update as appropriate. If another control functions was already defined for the variable, it will be replaced with the new function. The same control function may be used with multiple control variables, given that the triggering control variable is passed to it as arguments.</p>
<p>When the control variables are updated, the associated control functions will be called asynchronously, such that previous control calls may be executing still while new ones are called. The design allows for control functions to take their sweet time executing, without holding up other time-sensitive SMA-X processing. If simultaneous execution of control functions is undesired, the control function(s) should implement mutexing as necessary to avoid conflicts / clobbering.</p>
<p>As a result of the asynchronous execution, there is also no guarantee of maintaining call order with respect to the order in which the control variables are updated. If two updates arrive in quick succession, it is possible that the asynchronous thread of the second one will make its call to its control function before the first one gets a chance. Thus, if order is important, you might want to process updates with a custom lower-level <code>RedisxSubscriberCall</code> wrapper instead (see <code><a class="el" href="smax-sub_8c.html#a827dd87397943f3384605f87116b630c">smaxAddSubscriber()</a></code>).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The hash table in which the control variable resides. </td></tr>
    <tr><td class="paramname">key</td><td>the control variable to monitor. It may not contain a sepatator. </td></tr>
    <tr><td class="paramname">func</td><td>The new function to call if the monitored control variable receives an update, or NULL to clear a previously configured function for the given variable. </td></tr>
    <tr><td class="paramname">parg</td><td>Optional pointer argument to pass along to the command procesing function, or NULL if the control function does not need extra data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>X_SUCCESS (0) </dd></dl>

<p class="reference">References <a class="el" href="smax_8h.html#a341a9de00cacd431dcd8ac8622b0bf7d">SMAX_UPDATES</a>, <a class="el" href="smax-sub_8c.html#a827dd87397943f3384605f87116b630c">smaxAddSubscriber()</a>, <a class="el" href="smax-sub_8c.html#a53614ba57a594135c13b64a2d89eaa43">smaxSubscribe()</a>, <a class="el" href="smax-sub_8c.html#af3a5d7bc565ab7de0ac1dd8fafc93f14">smaxUnsubscribe()</a>, <a class="elRef" href="../../xchange/apidoc/html/structXField.html#a0f61d63b009d0880a89c843bd50d8d76">XField::value</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8c.html#ae73aaf705dc4e7d58dfb0fd81f4805c7">x_error()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a48c78a0e8290b2fd3701031ebce3fa15">X_GROUP_INVALID</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a5426366367d169401f779c4764ba7736">X_NAME_INVALID</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a923cd66e2074f32817a3468c5617a440">X_SEP</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a28120364666ec6054159012a58ba27af">X_SEP_LENGTH</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a7b2679c964ea5f2160380ed55654b873">X_SUCCESS</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8c.html#a9b61b8b8b3ef0f7cc0b96ab499265c74">x_trace()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a1f2359ea36bfcb29d936b1eef60a53a3">X_UNKNOWN</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a01a94b3210aed984dbee956fbb26fcfd">xAllocLookup()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a42e4e75cbf8f721ef4b251c692dcd7cb">xCreateField()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#ae0ce99c867b11bd14971031eec8ba4ad">xDestroyField()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a32e104d7a23090f8ae0e6ea3cc55a84f">xGetAggregateID()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a3b423bf135d2ed42319abff99fda78e4">xLookupPut()</a>, and <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a85f2c5443ebef48499398453a39710da">xLookupRemove()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="smax-control_8c.html">smax-control.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
