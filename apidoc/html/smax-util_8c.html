<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>smax-clib: src/smax-util.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="smithsonian-logo-55x55.png"/></td>
  <td id="projectalign">
   <div id="projectname">smax-clib<span id="projectnumber">&#160;v0.9</span>
   </div>
   <div id="projectbrief">A C/C++ client library for SMA-X</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('smax-util_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">smax-util.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A collection of commonly used functions for the SMA-X library.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abfe751f22aa718133911ffdee848f64a" id="r_abfe751f22aa718133911ffdee848f64a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abfe751f22aa718133911ffdee848f64a">smax2xField</a> (XField *f)</td></tr>
<tr class="separator:abfe751f22aa718133911ffdee848f64a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50fef3b0daf40f7de6f52b05abd2963c" id="r_a50fef3b0daf40f7de6f52b05abd2963c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a50fef3b0daf40f7de6f52b05abd2963c">smax2xStruct</a> (XStructure *s)</td></tr>
<tr class="separator:a50fef3b0daf40f7de6f52b05abd2963c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9871356984c4794a9f9caa3870dc6794" id="r_a9871356984c4794a9f9caa3870dc6794"><td class="memItemLeft" align="right" valign="top">XField *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9871356984c4794a9f9caa3870dc6794">smaxCreateField</a> (const char *name, XType type, int ndim, const int *sizes, const void *value)</td></tr>
<tr class="separator:a9871356984c4794a9f9caa3870dc6794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48decaf10195b2f21fa77d8ea9b94fff" id="r_a48decaf10195b2f21fa77d8ea9b94fff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structXMeta.html">XMeta</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a48decaf10195b2f21fa77d8ea9b94fff">smaxCreateMeta</a> ()</td></tr>
<tr class="separator:a48decaf10195b2f21fa77d8ea9b94fff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c116311d61874554f98332831ad872b" id="r_a6c116311d61874554f98332831ad872b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c116311d61874554f98332831ad872b">smaxDeletePattern</a> (const char *pattern)</td></tr>
<tr class="separator:a6c116311d61874554f98332831ad872b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefcb16af3690ffe9c77224af6b394869" id="r_aefcb16af3690ffe9c77224af6b394869"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aefcb16af3690ffe9c77224af6b394869">smaxError</a> (const char *func, int errorCode)</td></tr>
<tr class="separator:aefcb16af3690ffe9c77224af6b394869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51856e0dc0261f8e44c8635d31d6193c" id="r_a51856e0dc0261f8e44c8635d31d6193c"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a51856e0dc0261f8e44c8635d31d6193c">smaxErrorDescription</a> (int code)</td></tr>
<tr class="separator:a51856e0dc0261f8e44c8635d31d6193c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6d47a508669e4ee215cb72c5366fc52" id="r_ac6d47a508669e4ee215cb72c5366fc52"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac6d47a508669e4ee215cb72c5366fc52">smaxGetMetaCount</a> (const <a class="el" href="structXMeta.html">XMeta</a> *m)</td></tr>
<tr class="separator:ac6d47a508669e4ee215cb72c5366fc52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ef420555c1ddbbcd9f4213f65b4ca66" id="r_a8ef420555c1ddbbcd9f4213f65b4ca66"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ef420555c1ddbbcd9f4213f65b4ca66">smaxGetScriptSHA1</a> (const char *scriptName, int *status)</td></tr>
<tr class="separator:a8ef420555c1ddbbcd9f4213f65b4ca66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6941b762acbd37c60b012d4157681a8" id="r_ae6941b762acbd37c60b012d4157681a8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6941b762acbd37c60b012d4157681a8">smaxGetServerTime</a> (struct timespec *t)</td></tr>
<tr class="separator:ae6941b762acbd37c60b012d4157681a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a71d93de952060be0154dd5f0d78496" id="r_a2a71d93de952060be0154dd5f0d78496"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2a71d93de952060be0154dd5f0d78496">smaxGetTime</a> (const char *timestamp)</td></tr>
<tr class="separator:a2a71d93de952060be0154dd5f0d78496"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c3c82ba5e7844e9f1b70fb4d51716ef" id="r_a2c3c82ba5e7844e9f1b70fb4d51716ef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c3c82ba5e7844e9f1b70fb4d51716ef">smaxParseTime</a> (const char *timestamp, time_t *secs, long *nanosecs)</td></tr>
<tr class="separator:a2c3c82ba5e7844e9f1b70fb4d51716ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ea3483859bf8f7764143b8590af067e" id="r_a7ea3483859bf8f7764143b8590af067e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ea3483859bf8f7764143b8590af067e">smaxResetMeta</a> (<a class="el" href="structXMeta.html">XMeta</a> *m)</td></tr>
<tr class="separator:a7ea3483859bf8f7764143b8590af067e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3385ed559f3866d76ec4efaa2885daa4" id="r_a3385ed559f3866d76ec4efaa2885daa4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3385ed559f3866d76ec4efaa2885daa4">smaxScriptError</a> (const char *name, int status)</td></tr>
<tr class="separator:a3385ed559f3866d76ec4efaa2885daa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3acc2100069feec3a52475cdb24d479" id="r_af3acc2100069feec3a52475cdb24d479"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af3acc2100069feec3a52475cdb24d479">smaxScriptErrorAsync</a> (const char *name, int status)</td></tr>
<tr class="separator:af3acc2100069feec3a52475cdb24d479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9802443ba0d569c3614f5dcf8b0cfc4b" id="r_a9802443ba0d569c3614f5dcf8b0cfc4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9802443ba0d569c3614f5dcf8b0cfc4b">smaxSetOrigin</a> (<a class="el" href="structXMeta.html">XMeta</a> *m, const char *origin)</td></tr>
<tr class="separator:a9802443ba0d569c3614f5dcf8b0cfc4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e3c024a1db97e7adc8a40694c657fd1" id="r_a9e3c024a1db97e7adc8a40694c657fd1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e3c024a1db97e7adc8a40694c657fd1">smaxStringToValues</a> (const char *str, void *value, XType type, int eCount, int *pos)</td></tr>
<tr class="separator:a9e3c024a1db97e7adc8a40694c657fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d9d92ad8825d4adad4d6288a5681351" id="r_a8d9d92ad8825d4adad4d6288a5681351"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d9d92ad8825d4adad4d6288a5681351">smaxStringType</a> (XType type)</td></tr>
<tr class="separator:a8d9d92ad8825d4adad4d6288a5681351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae56da599747b207813a710efc07dd47d" id="r_ae56da599747b207813a710efc07dd47d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae56da599747b207813a710efc07dd47d">smaxTimestamp</a> (char *buf)</td></tr>
<tr class="separator:ae56da599747b207813a710efc07dd47d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c29c7229e7006aea4fc3eb6d4b4ee0e" id="r_a1c29c7229e7006aea4fc3eb6d4b4ee0e"><td class="memItemLeft" align="right" valign="top">__inline__ int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1c29c7229e7006aea4fc3eb6d4b4ee0e">smaxTimeToString</a> (const struct timespec *time, char *buf)</td></tr>
<tr class="memdesc:a1c29c7229e7006aea4fc3eb6d4b4ee0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">*&zwj;/  <br /></td></tr>
<tr class="separator:a1c29c7229e7006aea4fc3eb6d4b4ee0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a164a9c0f870cf0a1fa4f7e66f25452e5" id="r_a164a9c0f870cf0a1fa4f7e66f25452e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a164a9c0f870cf0a1fa4f7e66f25452e5">smaxTransmitErrorHandler</a> (Redis *redis, enum redisx_channel channel, const char *op)</td></tr>
<tr class="separator:a164a9c0f870cf0a1fa4f7e66f25452e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6a70e896526629e2130009882a1bff8" id="r_af6a70e896526629e2130009882a1bff8"><td class="memItemLeft" align="right" valign="top">XType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af6a70e896526629e2130009882a1bff8">smaxTypeForString</a> (const char *type)</td></tr>
<tr class="separator:af6a70e896526629e2130009882a1bff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5665cd4f5087ab7a07239c30bc561173" id="r_a5665cd4f5087ab7a07239c30bc561173"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5665cd4f5087ab7a07239c30bc561173">smaxUnpackStrings</a> (const char *data, int len, int count, char **dst)</td></tr>
<tr class="separator:a5665cd4f5087ab7a07239c30bc561173"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a80ebd309352379d3691f264282d96b" id="r_a4a80ebd309352379d3691f264282d96b"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a80ebd309352379d3691f264282d96b">smaxValuesToString</a> (const void *value, XType type, int eCount, char *trybuf, int trylength)</td></tr>
<tr class="separator:a4a80ebd309352379d3691f264282d96b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76bd110891905fe4bdae6628547c50d1" id="r_a76bd110891905fe4bdae6628547c50d1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a76bd110891905fe4bdae6628547c50d1">x2smaxField</a> (XField *f)</td></tr>
<tr class="separator:a76bd110891905fe4bdae6628547c50d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65cc6cdad09f861b968e2d492abed977" id="r_a65cc6cdad09f861b968e2d492abed977"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a65cc6cdad09f861b968e2d492abed977">x2smaxStruct</a> (XStructure *s)</td></tr>
<tr class="separator:a65cc6cdad09f861b968e2d492abed977"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A collection of commonly used functions for the SMA-X library. </p>
<dl class="section date"><dt>Date</dt><dd>Jun 25, 2019 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="abfe751f22aa718133911ffdee848f64a" name="abfe751f22aa718133911ffdee848f64a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfe751f22aa718133911ffdee848f64a">&#9670;&#160;</a></span>smax2xField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int smax2xField </td>
          <td>(</td>
          <td class="paramtype">XField *</td>          <td class="paramname"><span class="paramname"><em>f</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts SMA-X field with serialized string value storage to a standard xchange field with a native value storage.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>Pointer to field to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>X_SUCCESS (0) if successful, or X_NULL if the input field or the deserialized value is NULL, X_TYPE_INVALID if the field is of a type that cannot be deserialized, or else an error code returned by <a class="el" href="#a9e3c024a1db97e7adc8a40694c657fd1">smaxStringToValues()</a>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a76bd110891905fe4bdae6628547c50d1">x2smaxField()</a> </dd>
<dd>
<a class="el" href="#a50fef3b0daf40f7de6f52b05abd2963c">smax2xStruct()</a> </dd></dl>

<p class="reference">References <a class="el" href="#a50fef3b0daf40f7de6f52b05abd2963c">smax2xStruct()</a>, and <a class="el" href="#a9e3c024a1db97e7adc8a40694c657fd1">smaxStringToValues()</a>.</p>

</div>
</div>
<a id="a50fef3b0daf40f7de6f52b05abd2963c" name="a50fef3b0daf40f7de6f52b05abd2963c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50fef3b0daf40f7de6f52b05abd2963c">&#9670;&#160;</a></span>smax2xStruct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int smax2xStruct </td>
          <td>(</td>
          <td class="paramtype">XStructure *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts an SMA-X structure with serialized string value storage to a standard xchange structure with a native value storage.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>Pointer to structure to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>X_SUCCESS (0) if successful, or X_STRUCT_INVALID if the structure is NULL, or had a NULL substructure, or else an error code returned by <a class="el" href="#abfe751f22aa718133911ffdee848f64a">smax2xField()</a>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a65cc6cdad09f861b968e2d492abed977">x2smaxStruct()</a> </dd>
<dd>
<a class="el" href="#abfe751f22aa718133911ffdee848f64a">smax2xField()</a> </dd></dl>

<p class="reference">References <a class="el" href="#abfe751f22aa718133911ffdee848f64a">smax2xField()</a>.</p>

</div>
</div>
<a id="a9871356984c4794a9f9caa3870dc6794" name="a9871356984c4794a9f9caa3870dc6794"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9871356984c4794a9f9caa3870dc6794">&#9670;&#160;</a></span>smaxCreateField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XField * smaxCreateField </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">XType</td>          <td class="paramname"><span class="paramname"><em>type</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ndim</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *</td>          <td class="paramname"><span class="paramname"><em>sizes</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a generic field of a given name and type and dimensions using the specified native values. It is like <code>xCreateField()</code> except that the field is created in serialized form for SMA-X.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Field name </td></tr>
    <tr><td class="paramname">type</td><td>Storage type, e.g. X_INT. </td></tr>
    <tr><td class="paramname">ndim</td><td>Number of dimensionas (1:20). If ndim &lt; 1, it will be reinterpreted as ndim=1, size[0]=1; </td></tr>
    <tr><td class="paramname">sizes</td><td>Array of sizes along each dimensions, with at least ndim elements, or NULL with ndim&lt;1. </td></tr>
    <tr><td class="paramname">value</td><td>Pointer to the native data location in memory. Unless it is of type X_STRUCT, the data stored in the field is a copy (for type X_RAW) or serialized string (otherwise).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A newly created field with the supplied data, or NULL if there was an error.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>xSetField() </dd></dl>

<p class="reference">References <a class="el" href="#a4a80ebd309352379d3691f264282d96b">smaxValuesToString()</a>.</p>

</div>
</div>
<a id="a48decaf10195b2f21fa77d8ea9b94fff" name="a48decaf10195b2f21fa77d8ea9b94fff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48decaf10195b2f21fa77d8ea9b94fff">&#9670;&#160;</a></span>smaxCreateMeta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structXMeta.html">XMeta</a> * smaxCreateMeta </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a new SMA-X metadata object with defaults. Effectively the same as calling calloc() followed by xResetMeta().</p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to a new metadata object initialized to defaults.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="smax_8h.html#a793fead1eb30470e219192befc88b3c9">X_META_INIT</a> </dd></dl>

<p class="reference">References <a class="el" href="#a7ea3483859bf8f7764143b8590af067e">smaxResetMeta()</a>.</p>

</div>
</div>
<a id="a6c116311d61874554f98332831ad872b" name="a6c116311d61874554f98332831ad872b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c116311d61874554f98332831ad872b">&#9670;&#160;</a></span>smaxDeletePattern()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int smaxDeletePattern </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>pattern</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deletes variables and metadata from SMA-X.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pattern</td><td>Glob variable name pattern </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of variables deleted from the SQL DB </dd></dl>

<p class="reference">References <a class="el" href="smax_8c.html#a533fbe770158afe876a3dafa78ba2195">smaxGetRedis()</a>.</p>

</div>
</div>
<a id="aefcb16af3690ffe9c77224af6b394869" name="aefcb16af3690ffe9c77224af6b394869"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefcb16af3690ffe9c77224af6b394869">&#9670;&#160;</a></span>smaxError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int smaxError </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>func</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>errorCode</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prints a descriptive error message to stderr, and returns the error code.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>String that describes the function or location where the error occurred. </td></tr>
    <tr><td class="paramname">errorCode</td><td>Error code that describes the failure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Same error code as specified on input. </dd></dl>

<p class="reference">References <a class="el" href="#a51856e0dc0261f8e44c8635d31d6193c">smaxErrorDescription()</a>.</p>

</div>
</div>
<a id="a51856e0dc0261f8e44c8635d31d6193c" name="a51856e0dc0261f8e44c8635d31d6193c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51856e0dc0261f8e44c8635d31d6193c">&#9670;&#160;</a></span>smaxErrorDescription()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * smaxErrorDescription </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>code</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a string description for one of the RM error codes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">code</td><td>One of the error codes defined in 'xchange.h' or in '<a class="el" href="smax_8h.html">smax.h</a>' (e.g. X_NO_PIPELINE) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac6d47a508669e4ee215cb72c5366fc52" name="ac6d47a508669e4ee215cb72c5366fc52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6d47a508669e4ee215cb72c5366fc52">&#9670;&#160;</a></span>smaxGetMetaCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int smaxGetMetaCount </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structXMeta.html">XMeta</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the number of elements stored from a metadata.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>pointer to metadata that defines the dimension and shape of elements. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the total number of elements represented by the metadata </dd></dl>

<p class="reference">References <a class="el" href="structXMeta.html#a16e4b9723516717d3493c46157701520">XMeta::storeDim</a>, and <a class="el" href="structXMeta.html#adb4556a75a248cce0b72e557c81f8af6">XMeta::storeSizes</a>.</p>

</div>
</div>
<a id="a8ef420555c1ddbbcd9f4213f65b4ca66" name="a8ef420555c1ddbbcd9f4213f65b4ca66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ef420555c1ddbbcd9f4213f65b4ca66">&#9670;&#160;</a></span>smaxGetScriptSHA1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * smaxGetScriptSHA1 </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>scriptName</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>status</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the SHA1 script ID for the currently loaded script with the specified name.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scriptName</td><td>Case-sensitive name of the script, e.g. "GetStruct". </td></tr>
    <tr><td class="paramname">status</td><td>Pointer int which to return status, which is X_SUCCESS if the SHA1 id was successfully obtained, or else an appropriate error code.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>String buffer with the SHA1 key or NULL if it could not be retrieved. (The caller is responsible freeing the buffer after use.) </dd></dl>

<p class="reference">References <a class="el" href="smax_8h.html#a23dedcaf9704eed433cf3920af5e5e1c">SMAX_SCRIPTS</a>, and <a class="el" href="smax_8c.html#a533fbe770158afe876a3dafa78ba2195">smaxGetRedis()</a>.</p>

</div>
</div>
<a id="ae6941b762acbd37c60b012d4157681a8" name="ae6941b762acbd37c60b012d4157681a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6941b762acbd37c60b012d4157681a8">&#9670;&#160;</a></span>smaxGetServerTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int smaxGetServerTime </td>
          <td>(</td>
          <td class="paramtype">struct timespec *</td>          <td class="paramname"><span class="paramname"><em>t</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the current time on the Redis server instance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>Pointer to a timespec structure in which to return the server time. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>X_SUCCESS (0) if successful, or X_NO_INIT if not connected to SMA-X, or X_NULL if either argument is NULL, or X_PARSE_ERROR if could not parse the response, or another error returned by redisxCheckRESP(). </dd></dl>

<p class="reference">References <a class="el" href="smax_8c.html#a533fbe770158afe876a3dafa78ba2195">smaxGetRedis()</a>.</p>

</div>
</div>
<a id="a2a71d93de952060be0154dd5f0d78496" name="a2a71d93de952060be0154dd5f0d78496"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a71d93de952060be0154dd5f0d78496">&#9670;&#160;</a></span>smaxGetTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double smaxGetTime </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>timestamp</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the a sub-second precision UNIX time value for the given SMA-X timestamp</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timestamp</td><td>The string timestamp returned by SMA-X</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Corresponding UNIX time with sub-second precision, or NAN if the input could not be parsed. </dd></dl>

<p class="reference">References <a class="el" href="#a2c3c82ba5e7844e9f1b70fb4d51716ef">smaxParseTime()</a>.</p>

</div>
</div>
<a id="a2c3c82ba5e7844e9f1b70fb4d51716ef" name="a2c3c82ba5e7844e9f1b70fb4d51716ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c3c82ba5e7844e9f1b70fb4d51716ef">&#9670;&#160;</a></span>smaxParseTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int smaxParseTime </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>timestamp</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t *</td>          <td class="paramname"><span class="paramname"><em>secs</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *</td>          <td class="paramname"><span class="paramname"><em>nanosecs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parses a timestamp into broken-down UNIX time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">timestamp</td><td>Timestamp string as returned in redis queries; </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">secs</td><td>Pointer to the returned UNIX time (seconds). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">nanosecs</td><td>Pointer to the retuned sub-second remainder as nanoseconds, or NULL if nor requested.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>X_SUCCESS(0) if the timestamp was successfully parsed. X_NULL if there was no timestamp (empty or invalid string), or the <code>secs</code> argument is NULL. X_PARSE_ERROR if the seconds could not be parsed. 1 if there was an error parsing the nanosec part. X_NULL if the secs arhument is NULL </dd></dl>

</div>
</div>
<a id="a7ea3483859bf8f7764143b8590af067e" name="a7ea3483859bf8f7764143b8590af067e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ea3483859bf8f7764143b8590af067e">&#9670;&#160;</a></span>smaxResetMeta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smaxResetMeta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structXMeta.html">XMeta</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set metadata to their default values. After resetting the supplied metadata will have exactly the same content as if it were initialized with the X_META_INIT macro.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>Pointer to the metadata that is to be cleared.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="smax_8h.html#a793fead1eb30470e219192befc88b3c9">X_META_INIT</a> </dd></dl>

<p class="reference">References <a class="el" href="smax_8h.html#a793fead1eb30470e219192befc88b3c9">X_META_INIT</a>.</p>

</div>
</div>
<a id="a3385ed559f3866d76ec4efaa2885daa4" name="a3385ed559f3866d76ec4efaa2885daa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3385ed559f3866d76ec4efaa2885daa4">&#9670;&#160;</a></span>smaxScriptError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int smaxScriptError </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>status</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>SMA-X error handler for when the LUA scripts do not execute. It prints a message to stderr, then depending on whether SMA-X is in resilient mode, it will try to reconnect to SMA-X in the background, or else exits the program with X_NO_SERVICE. You must not call this function with a locked config mutex (via smaxConfigLock()). Instead use the async version of this function after smaxConfigLock().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the calling function or name of script (whichever is more informative). </td></tr>
    <tr><td class="paramname">status</td><td>An approprioate error code from xchange.h to indicate the type of error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#af3acc2100069feec3a52475cdb24d479">smaxScriptErrorAsync()</a> </dd>
<dd>
<a class="el" href="smax-resilient_8c.html#a469095a9a74a8ce5d6bbae347d7194e5">smaxSetResilient()</a> </dd></dl>

<p class="reference">References <a class="el" href="#af3acc2100069feec3a52475cdb24d479">smaxScriptErrorAsync()</a>.</p>

</div>
</div>
<a id="af3acc2100069feec3a52475cdb24d479" name="af3acc2100069feec3a52475cdb24d479"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3acc2100069feec3a52475cdb24d479">&#9670;&#160;</a></span>smaxScriptErrorAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int smaxScriptErrorAsync </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>status</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Same as <a class="el" href="#a3385ed559f3866d76ec4efaa2885daa4">smaxScriptError()</a>, but can be used after smaxConfigLock().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the calling function or name of script (whichever is more informative). </td></tr>
    <tr><td class="paramname">status</td><td>An approprioate error code from xchange.h to indicate the type of error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a3385ed559f3866d76ec4efaa2885daa4">smaxScriptError()</a> </dd>
<dd>
<a class="el" href="smax-resilient_8c.html#a469095a9a74a8ce5d6bbae347d7194e5">smaxSetResilient()</a> </dd></dl>

<p class="reference">References <a class="el" href="#a51856e0dc0261f8e44c8635d31d6193c">smaxErrorDescription()</a>, <a class="el" href="smax_8c.html#a95cbb68e3eb751219ab3363c93a4840b">smaxIsConnected()</a>, and <a class="el" href="smax-resilient_8c.html#a5f5e00f0fd063ac8e36827c852131358">smaxIsResilient()</a>.</p>

</div>
</div>
<a id="a9802443ba0d569c3614f5dcf8b0cfc4b" name="a9802443ba0d569c3614f5dcf8b0cfc4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9802443ba0d569c3614f5dcf8b0cfc4b">&#9670;&#160;</a></span>smaxSetOrigin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smaxSetOrigin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structXMeta.html">XMeta</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>origin</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the 'origin' field of an SMA-X metadata to the specified value, truncating as necessary to fit into the allotted fixed storage.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">origin</td><td>The origination information, usually as hostname:progname </td></tr>
    <tr><td class="paramname">m</td><td>Pointer to metadata to set. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structXMeta.html#a124de75960ce49e7d4dcbdad9237e128">XMeta::origin</a>, and <a class="el" href="smax_8h.html#a012a406ddc842479b2aefaa987e6c591">SMAX_ORIGIN_LENGTH</a>.</p>

</div>
</div>
<a id="a9e3c024a1db97e7adc8a40694c657fd1" name="a9e3c024a1db97e7adc8a40694c657fd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e3c024a1db97e7adc8a40694c657fd1">&#9670;&#160;</a></span>smaxStringToValues()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int smaxStringToValues </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>str</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>value</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">XType</td>          <td class="paramname"><span class="paramname"><em>type</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>eCount</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>pos</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deserializes a string to binary values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">str</td><td>Serialized ASCII representation of the data (as stored by Redis).</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>Pointer to the buffer that will hold the binary values. The caller is responsible for ensuring the buffer is sufficiently sized for holding the data for the given variable.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Share type, e.g. X_INT. The types X_RAW, X_STRUCT are not supported by this function.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">eCount</td><td>Number of elements to retrieve. Ignored for X_STRUCT.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pos</td><td>Parse position, i.e. the number of characters parsed from the input string...</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of elements successfully parsed, or a negative error code: <pre class="fragment">                        X_NULL               If the value or str argument is NULL.
                        X_TYPE_INVALID       If the type is not supported.
                        X_SIZE_INVALID       If size is invalid (e.g. X_RAW, X_STRUCT)
                        X_PARSE_ERROR        If the tokens could not be parsed in the format expected
</pre> </dd></dl>

<p class="reference">References <a class="el" href="#a5665cd4f5087ab7a07239c30bc561173">smaxUnpackStrings()</a>.</p>

</div>
</div>
<a id="a8d9d92ad8825d4adad4d6288a5681351" name="a8d9d92ad8825d4adad4d6288a5681351"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d9d92ad8825d4adad4d6288a5681351">&#9670;&#160;</a></span>smaxStringType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * smaxStringType </td>
          <td>(</td>
          <td class="paramtype">XType</td>          <td class="paramname"><span class="paramname"><em>type</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the string type for a given XType argument as a constant expression. For examples X_LONG -&gt; "int64".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>SMA-X type, e.g. X_FLOAT</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Corresponding string type, e.g. "float". (Default is "string" &ndash; since typically anything can be represented as strings.)</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#af6a70e896526629e2130009882a1bff8">smaxTypeForString()</a> </dd></dl>

</div>
</div>
<a id="ae56da599747b207813a710efc07dd47d" name="ae56da599747b207813a710efc07dd47d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae56da599747b207813a710efc07dd47d">&#9670;&#160;</a></span>smaxTimestamp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int smaxTimestamp </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prints the current time into the supplied buffer with subsecond precision.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Pointer to string buffer, must be at least X_TIMESTAMP_LENGTH in size.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of characters printed, not including the terminating '\0', or else an error code (&lt;0) if the <code>buf</code> argument is NULL. </dd></dl>

<p class="reference">References <a class="el" href="#a1c29c7229e7006aea4fc3eb6d4b4ee0e">smaxTimeToString()</a>.</p>

</div>
</div>
<a id="a1c29c7229e7006aea4fc3eb6d4b4ee0e" name="a1c29c7229e7006aea4fc3eb6d4b4ee0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c29c7229e7006aea4fc3eb6d4b4ee0e">&#9670;&#160;</a></span>smaxTimeToString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__inline__ int smaxTimeToString </td>
          <td>(</td>
          <td class="paramtype">const struct timespec *</td>          <td class="paramname"><span class="paramname"><em>time</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>*&zwj;/ </p>
<p>Prints the given UNIX time into the supplied buffer with subsecond precision.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>Pointer to time value. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Pointer to string buffer, must be at least X_TIMESTAMP_LENGTH in size.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of characters printed, not including the terminating '\0', or else an error code (&lt;0) if the <code>buf</code> argument is NULL. </dd></dl>

</div>
</div>
<a id="a164a9c0f870cf0a1fa4f7e66f25452e5" name="a164a9c0f870cf0a1fa4f7e66f25452e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a164a9c0f870cf0a1fa4f7e66f25452e5">&#9670;&#160;</a></span>smaxTransmitErrorHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smaxTransmitErrorHandler </td>
          <td>(</td>
          <td class="paramtype">Redis *</td>          <td class="paramname"><span class="paramname"><em>redis</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum redisx_channel</td>          <td class="paramname"><span class="paramname"><em>channel</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>op</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The SMA-X error handler for Redis transmit (send or receive) errors. It prints a message to stderr, then depending on whether SMA-X is in resilient mode, it will try to reconnect to SMA-X in the background, or else exits the program with X_NO_SERVICE.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">redis</td><td>The Redis instance in which the error occurred. In case of SMA-X this will always be the Redis instance used by SMA-X. </td></tr>
    <tr><td class="paramname">channel</td><td>The Redis channel index on which the error occured, such as REDIS_INTERAVTIVE_CHANNEL </td></tr>
    <tr><td class="paramname">op</td><td>The operation during which the error occurred, e.g. 'send' or 'read'.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="smax-resilient_8c.html#a469095a9a74a8ce5d6bbae347d7194e5">smaxSetResilient()</a> </dd>
<dd>
redisxSetTrasmitErrorHandler() </dd></dl>

<p class="reference">References <a class="el" href="smax_8c.html#a533fbe770158afe876a3dafa78ba2195">smaxGetRedis()</a>, and <a class="el" href="smax-resilient_8c.html#a5f5e00f0fd063ac8e36827c852131358">smaxIsResilient()</a>.</p>

</div>
</div>
<a id="af6a70e896526629e2130009882a1bff8" name="af6a70e896526629e2130009882a1bff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6a70e896526629e2130009882a1bff8">&#9670;&#160;</a></span>smaxTypeForString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XType smaxTypeForString </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>type</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the XType for a given case-sensitive type string. For example "float" -&gt; X_FLOAT. The value "raw" will return X_RAW.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>String type, e.g. "struct".</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Corresponding XType, e.g. X_STRUCT. (The default return value is X_RAW, since all Redis values can be represented as raw strings.)</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a8d9d92ad8825d4adad4d6288a5681351">smaxStringType()</a> </dd></dl>

</div>
</div>
<a id="a5665cd4f5087ab7a07239c30bc561173" name="a5665cd4f5087ab7a07239c30bc561173"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5665cd4f5087ab7a07239c30bc561173">&#9670;&#160;</a></span>smaxUnpackStrings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int smaxUnpackStrings </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>count</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>dst</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns an array of dynamically allocated strings from a packed buffer of consecutive 0-terminated or '\r'-separated string elements.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the packed string data buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>length of packed string (excl. termination). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">count</td><td>Number of string elements expected. If fewer than that are found in the packed data, then the returned array of pointers will be padded with NULL. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dst</td><td>An array of string pointers (of size 'count') which will point to dynamically allocated string (char*) elements. The array is assumed to be uninitialized, and elements will be allocated as necessary.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>X_SUCCESS (0) if successful, or X_NULL if one of the argument pointers is NULL, or else X_INCOMPLETE if some of the components were too large to unpack (alloc error). </dd></dl>

</div>
</div>
<a id="a4a80ebd309352379d3691f264282d96b" name="a4a80ebd309352379d3691f264282d96b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a80ebd309352379d3691f264282d96b">&#9670;&#160;</a></span>smaxValuesToString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * smaxValuesToString </td>
          <td>(</td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>value</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">XType</td>          <td class="paramname"><span class="paramname"><em>type</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>eCount</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>trybuf</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>trylength</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Serializes binary values into a string representation (for Redis).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>Pointer to an array of values, or NULL to produce all zeroes. If type is X_STRING value should be a pointer to a char** (array of string pointers), as opposed to X_CHAR(n), which expects a contiguous char* buffer with [n * eCount] length (Note, a char[eCount][n] is equivalent to such a char* buffer).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Share type, e.g. X_DOUBLE. All type except X_STRUCT are supported.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">eCount</td><td>Number of elements (ignored for X_RAW).</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">trybuf</td><td>(optional) An optional pointer to a buffer that will be used if sufficient (can be NULL).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">trylength</td><td>(optional) Size of the optional buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the string buffer holding the ASCII values. It may be the supplied buffer (if sufficient), the input value (if type is X_RAW) or else a dynamically allocated buffer, or NULL if the key is malformed. If the returned value is neither the input value nor trybuf, then the caller is responsible for calling free() on the dynamically allocated buffer after use. </dd></dl>

</div>
</div>
<a id="a76bd110891905fe4bdae6628547c50d1" name="a76bd110891905fe4bdae6628547c50d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76bd110891905fe4bdae6628547c50d1">&#9670;&#160;</a></span>x2smaxField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int x2smaxField </td>
          <td>(</td>
          <td class="paramtype">XField *</td>          <td class="paramname"><span class="paramname"><em>f</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts a standard xchange field (with a native value storage) to an SMA-X field with serialized string value storage.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">f</td><td>Pointer to field to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>X_SUCCESS (0) if successful, or X_NULL if the input field or the serialized value is NULL.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#abfe751f22aa718133911ffdee848f64a">smax2xField()</a> </dd>
<dd>
<a class="el" href="#a65cc6cdad09f861b968e2d492abed977">x2smaxStruct()</a> </dd></dl>

<p class="reference">References <a class="el" href="#a4a80ebd309352379d3691f264282d96b">smaxValuesToString()</a>, and <a class="el" href="#a65cc6cdad09f861b968e2d492abed977">x2smaxStruct()</a>.</p>

</div>
</div>
<a id="a65cc6cdad09f861b968e2d492abed977" name="a65cc6cdad09f861b968e2d492abed977"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65cc6cdad09f861b968e2d492abed977">&#9670;&#160;</a></span>x2smaxStruct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int x2smaxStruct </td>
          <td>(</td>
          <td class="paramtype">XStructure *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts a standard xchange structure (with a native value storage) to an SMA-X structure with serialized string value storage.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>Pointer to structure to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>X_SUCCESS (0) if successful, or X_STRUCT_INVALID if the structure is NULL, or had a NULL substructure. X_NULL if there was a field that could not be converted.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a50fef3b0daf40f7de6f52b05abd2963c">smax2xStruct()</a> </dd>
<dd>
<a class="el" href="#a76bd110891905fe4bdae6628547c50d1">x2smaxField()</a> </dd></dl>

<p class="reference">References <a class="el" href="#a76bd110891905fe4bdae6628547c50d1">x2smaxField()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="smax-util_8c.html">smax-util.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
